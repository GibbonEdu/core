{#<!--
Gibbon, Flexible & Open School System
Copyright (C) 2010, Ross Parker

This is a Gibbon template file, written in HTML and Twig syntax.
For info about editing, see: https://twig.symfony.com/doc/2.x/
-->#}

{% if totalCount > 0 %}
<div class="flex items-center">
    {% set percent = ((progressCount / totalCount) * 100)|round %}
    {% set colour = progressColour|default('purple') %}

    <div class="{{ width|default('flex-1') }} h-6 border bg-gray-100 border-{{ colour }}-600 flex" title="{{ percent }}% {{ progressName ? progressName : __('Complete') }}">
        <div class="bg-{{ colour }}-{{ colour == 'purple' ? '400' : '300' }} h-full" style="width: {{ percent }}%"></div>

        {% if partialCount > 0 %}
            {% set percent = ((partialCount / totalCount) * 100)|round %}
            {% set colour = partialColour|default('gray') %}
            <div class="bg-{{ colour }}-300 h-full" style="width: {{ percent }}%" title="{{ percent }}% {{ __('Pending')}}"></div>
        {% endif %}
    </div>

    <span class="ml-2 text-xxs {{ progressCount > totalCount ? 'text-red-700 font-bold' : 'text-gray-600' }}" title="{{ progressCount > totalCount ? __('Progress count includes students who have left.') }}">
        {{ progressCount }}/{{ totalCount }}
    </span>
</div>
{% endif %}
