!function(n){n.fn.chainedTo=function(t){function i(){var i=n("option:selected",t).val(),a=n("option:selected",o).val();n(o).html(e.html()),n(o).val(""),n(o).find("option").each(function(){n(this).hasClass(i)||""==n(this).val()||n(this).detach().remove()}),n('option[value="'+a+'"]',o).prop("selected",!0);var l=n(o).find("option").filter(function(){return"none"!=n(this).css("display")&&""!=n(this).val()});n(o).prop("disabled",0==l.length)}var o=this,e=n(o).clone();n(t).on("change",function(){i()}),i()}}(window.jQuery);