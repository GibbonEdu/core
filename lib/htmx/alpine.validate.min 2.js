(()=>{var et=function(w){let _="data-error",K=`${_}-msg`,S="error-msg",C="validate",z="required",I="input",Z="checkbox",H="radio",x="group",R="form",j="fieldset",G=t=>`:not([type="${t}"])`,v=`${I}${G("search")}${G("reset")}${G("submit")},select,textarea`,P="hidden",g=(t,e)=>{let r=t instanceof HTMLElement;return e?r&&t.matches(e):r},b=(t,e)=>Array.isArray(t)&&t.includes(e),O=(t,e,r)=>t.addEventListener(e,r),E=(t,e)=>t.getAttribute(e),h=(t,e,r="")=>t.setAttribute(e,r),A=(t,e=document)=>g(t)?t:e.querySelector(`#${t}`)||e.querySelector(`[name ="${t}"]`),D=t=>t&&t.closest(R),M=t=>E(t,"name")||E(t,"id"),Q=t=>{let e=E(t,"id");if(e)return e;let r=`${t.tagName.toLowerCase()}-${Math.random().toString(36).substring(2,9)}`;return h(t,"id",r),r},q=t=>String(t).trim(),p=t=>{let e=A(t),r=N.get(D(e));if(!r)return!1;if(g(e,R))return Object.values(r);if(g(e,j)){let a=e.querySelectorAll(v);return Object.values(r).filter(o=>Array.from(a).some(f=>o.node===f))}if(g(e,v))return r[M(e)]},L=["mmddyyyy","ddmmyyyy","yyyymmdd"],X=/^(\d{1,2})[-/.](\d{1,2})[-/.](\d{4})$/,J=/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/;function U(t,e=L[2]){let r=t.split(/[-/.]/),a=L.indexOf(e),o,f,u;X.test(t)?(a===0&&([o,f,u]=r),a===1&&([f,o,u]=r)):J.test(t)&&a===2&&([u,o,f]=r);let y=`${u}-${o}-${f}`,s=new Date(y),n=s.getTime();return!typeof n==="number"||Number.isNaN(n)?!1:s.toISOString().startsWith(y)}let N=new WeakMap,B=new WeakMap;function $(t,e,r){var f;let a=D(t),o=M(t);if(a&&o){N.has(a)||N.set(a,w.reactive({}));let u=N.get(a),y=t.matches(":disabled"),s=((f=u[o])==null?void 0:f.required)||t.required;e={...u[o],name:o,node:t,value:y?"":t.value,required:s,disabled:y,...e};let n=e.value,i=t.checkValidity();if(!e.disabled&&i){if(b([Z,H],t.type)){e.required&&(i=t.checked);let c=e.array||[];if(t.type===Z&&(t.checked&&!c.includes(n)&&c.push(n),t.checked||(c=c.filter(d=>d!==n))),t.type===H&&t.checked&&(c=[n]),e.array=c,e.value=c.toString(),b(e.mods,x)){let d=e.exp||1;i=c.length>=d}}else if(e.required&&(i=!!n.trim()),i&&n){let c=e.mods.filter(d=>L.indexOf(d)!==-1)[0];for(let d of e.mods)if(typeof m[d]=="function"){i=d==="date"?U(n,c):m[d](n);break}e.exp===!1&&(i=!1)}}e.valid=i,u[o]=e,N.set(a,u)}return r&&W(t,e.valid),e}function T(t,e,r){if((g(t,R)||g(t,j))&&p(t).forEach(o=>$(o.node)),g(t,v))return $(t,e,r)}let m={};m.email=t=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(q(t)),m.tel=t=>/^((\+|0)\d{1,4})?[-\s.]?[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?(\d{1,2})$/.test(q(t)),m.website=t=>/^(https?:\/\/)?(www\.)?([-a-zA-Z0-9@:%._+~#=]+(-?[a-zA-Z0-9])*\.)+[\w]{2,}(\/\S*)?$/.test(q(t)),m.url=t=>/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()!@:%_+.~#?&/=]*)/.test(q(t)),m.number=t=>!isNaN(parseFloat(t))&&isFinite(t),m.integer=t=>m.number(t)&&Number.isInteger(Number(t)),m.wholenumber=t=>m.integer(t)&&Number(t)>0,m.date=t=>U(t),L.forEach(t=>{m.date[t]=e=>U(e,t)});let l={};l.data=t=>p(t),l.formData=t=>N.get(D(A(t))),l.value=(t,e)=>{t=A(t);let r=p(t);return r?Array.isArray(r)?r.reduce((a,o)=>(a[o.name]=o.value,a),{}):(e&&(r.value=e,t.value=e,$(t)),r.value):!1},l.updateData=(t,e,r)=>T(A(t),e,r),l.toggleError=(t,e)=>W(A(t),e),l.submit=t=>{let e=0;p(t.target).forEach(r=>{r=T(r.node),r.valid===!1&&(e++,e===1&&r.node.focus(),W(r.node,!1),t.preventDefault(),console.error(`${r.name} ${z}`))})},l.isComplete=t=>{let e=p(t);return Array.isArray(e)?!e.some(r=>!r.valid):e&&e.valid},Object.keys(m).forEach(t=>l={...l,[t]:m[t]}),w.magic(C,()=>l),w.magic("formData",t=>N.get(D(A(t)))),w.directive(C,(t,{modifiers:e,expression:r},{evaluate:a})=>{let o=s=>{let n=new MutationObserver(i=>{for(let c of i){let d=c.target;if(c.type==="attributes"){let k=c.attributeName;d.matches(v)&&["disabled","required","value"].includes(k)&&T(d),d.matches(j)&&k==="disabled"&&T(d)}}});return n.observe(s,{attributes:!0,childList:!0,subtree:!0}),n},f=s=>{let n=s.closest(".field-parent")||b(e,x)?s.parentNode.parentNode:s.parentNode,i=[...e,s.type],c=s.required||b(i,z)||b(i,x),d=s.matches(":disabled");return{mods:i,required:c,disabled:d,parentNode:n,exp:r&&a(r)}};function u(s){let n=Array.from(s.attributes).map(F=>F.name),i=["required",":required","pattern",":pattern",":disabled"],c=n.some(F=>i.includes(F)||F.includes("x-validate"));if(s.matches("[type=hidden]")||!c)return;tt(s);let d=b([Z,H,"range"],s.type),k=d?"click":g(s,"select")?"change":"blur";O(s,k,y),b(e,I)&&!d&&O(s,I,y)}if(g(t,R)){o(t),e.includes("use-browser")||h(t,"novalidate","true"),e.includes("validate-on-submit")&&t.addEventListener("submit",function(n){l.submit(n)}),B.set(t,e);let s=t.querySelectorAll(v);O(t,"reset",()=>{t.reset();let n=p(t);setTimeout(()=>{n.forEach(i=>$(i.node))},50)}),s.forEach(n=>{M(n)&&($(n,f(n)),n.getAttributeNames().some(i=>i.includes(`x-${C}`))||u(n))})}if(M(t)&&g(t,v)){let s=D(t),n=B.has(s)?B.get(s):[];e=[...e,...n],$(t,f(t)),u(t),s.hasAttribute("x-validate")||o(t)}function y(s){let n=this,i=p(n).mods,c=$(n,{exp:r&&a(r)},!0);return!c.valid&&!b(i,"bluronly")&&s.type==="blur"&&O(n,I,y),!c.valid&&b(i,"refocus")&&n.focus(),c.valid}});function W(t,e){let r=p(t).parentNode,a=document.getElementById(E(t,"aria-errormessage"));h(t,"aria-invalid",!e),e?(h(a,P),r.removeAttribute(_)):(a.removeAttribute(P),h(r,_,a.textContent))}function Y(t){for(;t;){if(t=t.nextElementSibling,g(t,`.${S}`))return t;if(g(t,v))return!1}return!1}function tt(t){let e=p(t),r=b(e.mods,x)?e.parentNode:t,a=document.createElement("span");a.className=S;let o=document.getElementById(`${S}-${E(r,"id")}`)||Y(r)||a,f=Q(r),u=`${S}-${f}`;E(o,"id")!==u&&h(o,"id",u),h(o,P);let y=M(t);o.innerHTML||(o.textContent=E(r,K)||`${y.replace(/[-_]/g," ")} ${z}`),h(t,"aria-errormessage",u),A(u,D(t))||r.after(o)}},V=et;document.addEventListener("alpine:init",()=>{window.Alpine.plugin(V)});})();
